!function t(e,i,o){function n(r,h){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!h&&a)return a(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+r+"'")}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return n(i?i:t)},c,c.exports,t,e,i,o)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e){e.exports={success_count:0,error_count:0,doneLoading:function(t){return t===this.success_count+this.error_count},load:function(t,e){window.robotica_img_cache=window.robotica_img_cache||{};var i=this,o=t.length;t.forEach(function(t){var n=new Image;n.addEventListener("load",function(){i.success_count+=1,robotica_img_cache[t]=this,i.doneLoading(o)&&e()},!1),n.addEventListener("error",function(){console.warn("Unabe to load "+t),i.error_count+=1,i.doneLoading(o)&&e()},!1),n.src="/img/"+t})},getImgFromCache:function(t){return t in robotica_img_cache?robotica_img_cache[t]:void console.warn("No "+t+" image found in cache")}}},{}],2:[function(t,e){function i(t,e){e=e||{},this.texture=t,this.x=e.x||0,this.y=e.y||0,this.width=this.texture.width,this.height=this.texture.width,this.alpha=1,this.sx=e.sx||0,this.sy=e.sy||0,this.dx=e.dx||0,this.dy=e.dy||0,this.sw=e.sw||120,this.sh=e.sh||120,this.dw=e.dw||120,this.dh=e.dh||120,this.ticks_count=0,this.ticks_per_frame=e.ticks_per_frame||4,this.current_frame=0,this.num_frames=e.num_frames||3}i.prototype.animateFrames=function(){this.ticks_count+=1,this.ticks_count>this.ticks_per_frame&&(this.ticks_count=0,this.sx=this.sw*this.current_frame,this.current_frame+=1,this.current_frame>this.num_frames&&(this.current_frame=0))},i.prototype.update=function(){},e.exports=i},{}],3:[function(t,e){e.exports=function(t){function e(e){65==e.keyCode||37==e.keyCode?t.move("west"):87==e.keyCode||38==e.keyCode?t.move("north"):39==e.keyCode||68==e.keyCode?t.move("east"):(40==e.keyCode||83==e.keyCode)&&t.move("south")}window.addEventListener("keydown",e,!1)}},{}],4:[function(t){t("./utils/animation_frame_shim");var e,i,o=t("./asset_loader"),n=t("./ground"),s=t("./robot"),r=[];window.onload=function(){function t(){h(),a(),c(),u(),d()}function h(){document.body.removeChild(document.querySelector(".loading"))}function a(){document.querySelector(".game-controls").style.visibility="visible"}function c(){e=document.createElement("canvas"),e.width=600,e.height=600,i=e.getContext("2d"),document.body.appendChild(e)}function u(){r.push(new n),r.push(new s)}function d(){requestAnimFrame(d),i.clearRect(0,0,e.width,e.height);for(var t=0;t<r.length;t++){var o=r[t];o.update(),i.globalAlpha=o.alpha,i.drawImage(o.texture,o.sx,o.sy,o.sw,o.sh,o.dx,o.dy,o.dw,o.dh)}}o.load(["tiles.jpg","robot_1.png"],t)}},{"./asset_loader":1,"./ground":5,"./robot":6,"./utils/animation_frame_shim":8}],5:[function(t,e){function i(){var t=120,e=120,i=[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],s=i.length,r=i[0].length,h=document.createElement("canvas");h.width=t*i[0].length,h.height=e*i.length;for(var a=h.getContext("2d"),c=0;s>c;c++)for(var u=0;r>u;u++)a.drawImage(n.getImgFromCache("tiles.jpg"),0,0,t,e,t*c,e*u,t,e);o.call(this,h,{sw:h.width,sh:h.height,dw:h.width,dh:h.height})}var o=t("./base/sprite"),n=t("./asset_loader");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i},{"./asset_loader":1,"./base/sprite":2}],6:[function(t,e){function i(){t("./bonus_robot_controls")(this),t("./robot_controls")(this);var e=64,i=64,s=120,r=120,h=1,a=null,c=null;this.MOVING=!1,this.SOUTH_FRAME=0*i,this.WEST_FRAME=1*e,this.EAST_FRAME=2*e,this.NORTH_FRAME=3*i,o.call(this,n.getImgFromCache("robot_1.png"),{sy:this.EAST_FRAME,sw:e,sh:i,dw:s,dh:r}),this.alpha=0,this.MAP=[[h,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]];var u={};u[this.NORTH_FRAME]="north",u[this.EAST_FRAME]="east",u[this.SOUTH_FRAME]="south",u[this.WEST_FRAME]="west";var d=this.MAP.length,f=this.MAP[0].length;this.drawMap=function(){for(var t=0;d>t;t++)for(var e=0;f>e;e++)this.MAP[t][e]===h&&(a=t,c=e,this.dx=s*e,this.dy=r*t)},this.drawMap(),this.onEdge=function(t){return"east"==t?c===f-1:"west"==t?0===c:"north"==t?0===a:"south"===t?a===d-1:void 0},this.updateCoordinates=function(t,e,i){this.MAP[a][c]=0,this.MAP[i][e]=1,this.sy=this[t.toUpperCase()+"_FRAME"],this.alpha=1},this.turnLeft=function(){this.MOVING||(this.sy=this.WEST_FRAME)},this.turnRight=function(){this.MOVING||(this.sy=this.EAST_FRAME)},this.move=function(t){t=t||u[this.sy],this.MOVING||this.onEdge(t)||0===this.alpha||(this.MOVING=!0,this.moveInDirection(t),this.sy=this[t.toUpperCase()+"_FRAME"])},this.moveInDirection=function(t){this.MAP[a][c]=0,"east"==t?c+=1:"west"==t?c-=1:"north"==t?a-=1:"south"==t&&(a+=1),this.MAP[a][c]=1},this.update=function(){this.MOVING&&(this.animateFrames(),this.animateMovement())},this.animateMovement=function(){this.sy==this.EAST_FRAME?(this.dx+=2,this.dx%s===0&&(this.MOVING=!1)):this.sy==this.SOUTH_FRAME?(this.dy+=2,this.dy%r===0&&(this.MOVING=!1)):this.sy==this.WEST_FRAME?(this.dx-=2,this.dx%s===0&&(this.MOVING=!1)):this.sy==this.NORTH_FRAME&&(this.dy-=2,this.dy%r===0&&(this.MOVING=!1))},this.reportLocation=function(){0!==this.alpha&&alert("x: "+c+", y: "+a+", facing: "+u[this.sy])}}var o=t("./base/sprite"),n=t("./asset_loader");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i},{"./asset_loader":1,"./base/sprite":2,"./bonus_robot_controls":3,"./robot_controls":7}],7:[function(t,e){e.exports=function(t){function e(){t.updateCoordinates(a.value,parseInt(r.value),parseInt(h.value)),t.drawMap()}function i(){t.move()}function o(){t.turnLeft()}function n(){t.turnRight()}function s(){t.reportLocation()}var r=document.querySelector(".x-pos"),h=document.querySelector(".y-pos"),a=document.querySelector(".facing");document.querySelector(".place-btn").addEventListener("click",e,!1),document.querySelector(".move-btn").addEventListener("click",i,!1),document.querySelector(".left-btn").addEventListener("click",o,!1),document.querySelector(".right-btn").addEventListener("click",n,!1),document.querySelector(".report-btn").addEventListener("click",s,!1)}},{}],8:[function(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}()},{}]},{},[4]);